(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-29af8e0d"],{1645:function(t){t.exports=JSON.parse('{"default":{"name":"default","style":"square","files":{"xs":{"w":48,"width":60,"file":"default-xs.gif"},"s":{"w":68,"width":84,"file":"default-s.gif"},"m":{"w":108,"width":136,"file":"default-m.png"},"l":{"w":180,"width":224,"file":"default-l.png"},"xl":{"w":240,"width":300,"file":"default-xl.png"}}},"flower_1":{"name":"flower_1","style":"circle","files":{"xs":{"w":48,"width":60,"file":"flower_1-xs.png"},"s":{"w":68,"width":84,"file":"flower_1-s.png"},"m":{"w":108,"width":136,"file":"flower_1-m.png"},"l":{"w":180,"width":224,"file":"flower_1-l.png"},"xl":{"w":240,"width":300,"file":"flower_1-xl.png"}}}}')},"184e":function(t,a,n){},4208:function(t,a,n){"use strict";n.r(a);var e=function(){var t=this,a=t._self._c;return a("uc",{staticClass:"m-dashboard-avatar"},[a("div",{staticClass:"m-profile-avatar"},[a("div",{staticClass:"m-profile-avatar-primary"},[a("div",{staticClass:"u-avatar"},[a("img",{staticClass:"u-avatar u-avatar-l",attrs:{src:t._f("showAvatar")(t.avatar)}})]),a("el-upload",{staticClass:"u-upload",attrs:{drag:"",accept:"image/png, image/gif, image/jpeg","on-change":t.upload,action:"upload/avatar","auto-upload":!1}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v(" 将文件拖到此处，或 "),a("em",[t._v("点击上传")]),a("br"),a("span",{staticClass:"u-tip"},[t._v("只能上传jpg/png/gif文件")])])]),a("p",{staticClass:"u-btng"},[a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确认")]),a("el-button",{on:{click:t.reset}},[t._v("重置")])],1)],1)])])},r=[],i=(n("99af"),n("b547")),c=n("46e8"),u=(n("aa38"),n("c9d2")),o=n("85e4"),s=n("1645"),f=n("65c2"),l=(n("2ef0"),{name:"avatar",props:[],data:function(){return{bak:"",avatar:"",frame:"",isVIP:!1,uid:u["a"].getInfo().uid,frames:s,tabActivate:"0",decorationJson:{},decoration:[],decorationActivate:null,originalActivateName:null,selectAll:[],noDecoration:!1}},computed:{data:function(){return{user_avatar:this.avatar}}},methods:{upload:function(t,a){var n=this,e=new FormData,r=t.raw;e.append("avatar",r),Object(c["m"])(e).then((function(t){n.$message({message:"上传成功",type:"success"}),n.avatar=t.data.data[0]}))},reset:function(){this.avatar=this.bak},submit:function(){var t=this;Object(c["j"])(this.data).then((function(a){u["a"].refresh("avatar",t.avatar),t.$message({message:"头像更新成功",type:"success"})}))},showFrame:function(t){return f["__imgPath"]+"avatar/images/".concat(t,"/").concat(t,".svg")},init:function(){var t=this;this.avatar=this.bak=u["a"].getInfo().avatar_origin,Object(c["f"])(this.uid).then((function(a){t.frame=a.data.data.user_avatar_frame||""}))}},filters:{showAvatar:function(t){return Object(o["showAvatar"])(t,480,!1)},showSmallAvatar:function(t){return Object(o["showAvatar"])(t,136,!1)}},created:function(){this.init()},components:{uc:i["a"]}}),d=l,p=(n("841f"),n("2877")),m=Object(p["a"])(d,e,r,!1,null,null,null);a["default"]=m.exports},"46e8":function(t,a,n){"use strict";n.d(a,"l",(function(){return s})),n.d(a,"e",(function(){return o})),n.d(a,"j",(function(){return f})),n.d(a,"k",(function(){return m})),n.d(a,"h",(function(){return w})),n.d(a,"a",(function(){return g})),n.d(a,"b",(function(){return v})),n.d(a,"g",(function(){return h})),n.d(a,"i",(function(){return _})),n.d(a,"c",(function(){return b})),n.d(a,"m",(function(){return l})),n.d(a,"d",(function(){return d})),n.d(a,"f",(function(){return p}));var e=n("41cb"),r=n("bc3a"),i=n.n(r),c=n("65c2"),u=Object(e["$_https"])("server",{proxy:!1});function o(){return Object(e["$cms"])().get("/api/cms/user/my/profile")}function s(t){return Object(e["$cms"])().put("/api/cms/user/my/profile",t)}function f(t){return Object(e["$cms"])().put("/api/cms/user/my/avatar",t)}function l(t){return Object(e["$cms"])().post("/api/cms/upload/avatar",t)}function d(){var t=c["__imgPath"]+"avatar/index.json";return i.a.get(t)}function p(t){return Object(e["$cms"])().get("/api/cms/user/".concat(t,"/info"),{params:{__no_cache:1}})}function m(t){return u.post("profile/password",t)}function v(){return u.get("profile/email/check")}function g(t){return u.get("profile/email/available",{params:{user_email:t}})}function h(t){return u.post("profile/email/bind",t)}function w(){return u.post("profile/email/verify")}function b(){return Object(e["$cms"])().get("/api/cms/account/oauth/status")}function _(t){return Object(e["$cms"])({popType:"alert"}).delete("/api/cms/account/oauth/unbind/".concat(t))}},"841f":function(t,a,n){"use strict";n("184e")},aa38:function(t,a,n){"use strict";n.d(a,"a",(function(){return u})),n.d(a,"f",(function(){return o})),n.d(a,"b",(function(){return s})),n.d(a,"c",(function(){return f})),n.d(a,"e",(function(){return l})),n.d(a,"g",(function(){return d})),n.d(a,"d",(function(){return p}));n("99af");var e=n("41cb"),r=n("bc3a"),i=n.n(r),c=n("65c2");function u(t){return Object(e["$cms"])().get("/api/cms/user/decoration",{params:t})}function o(t){return Object(e["$cms"])().post("/api/cms/user/decoration",t)}function s(){var t=c["__imgPath"]+"decoration/index.json";return i.a.get(t)}function f(){return i.a.get("".concat(c["__dataPath"],"emotion/output/catalog.json"))}function l(t,a){return Object(e["$cms"])().post("/api/cms/user/decoration/check-suit/".concat(t,"/").concat(a,"/for/avatar"))}function d(t){return Object(e["$cms"])().put("/api/cms/user/my/avatar-frame",t)}function p(){return i.a.get("".concat(c["__imgPath"],"decoration/honor.json"))}}}]);
//# sourceMappingURL=chunk-29af8e0d.3b80b8a2.js.map