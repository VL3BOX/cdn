(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c414a70"],{"07ac":function(t,e,s){var a=s("23e7"),n=s("6f53").values;a({target:"Object",stat:!0},{values:function(t){return n(t)}})},"1b86":function(t,e,s){"use strict";s.d(e,"a",(function(){return i})),s.d(e,"b",(function(){return r}));var a=s("41cb");function n(t,e){return Object(a["$node"])().get("/pet/"+t,{params:e})}const i={get({type:t,id:e},s){return Object(a["$helper"])().get("/api/wiki/post",{params:{...s,type:t,source_id:e}})},getById(t,e){return Object(a["$helper"])().get("/api/wiki/post/"+t,{params:e})},list({type:t},e){return Object(a["$helper"])().get("/api/wiki/posts/newest",{params:{...e,type:t}})},post({type:t,data:e,client:s},n){return Object(a["$helper"])().post("/api/wiki/post",{post:{...e,type:t},client:s},{params:n})},versions({type:t,id:e},s){return Object(a["$helper"])().get("/api/wiki/post/versions",{params:{...s,type:t,source_id:e}})},myList(t){return Object(a["$helper"])().get("/api/my/wiki/posts",{params:t})},delete(t){return Object(a["$helper"])().put(`/api/my/wiki/post/${t}/remove`)},async handleMix(t,e,s,a){let n="",i="",r=!0,o=!1,c=[];if("std"===s){const l=await this.get({type:t,id:e},{client:s,...a});return n=l.data.data.post,i=l.data.data.source,c=l.data.data.users,n&&(r=!1),console.log("获取重制攻略"),{post:n,source:i,isEmpty:r,compatible:o,type:t,source_id:e,users:c}}{const l=await this.get({type:t,id:e},{client:s,...a});i=l.data.data.source,n=l.data.data.post,c=l.data.data.users,n&&(r=!1),console.log("获取缘起攻略");const u=!!l.data.data.post;return u?{post:n,source:i,isEmpty:r,compatible:o,type:t,source_id:e,users:c}:(console.log("兼容：获取重制攻略"),this.get({type:t,id:e},{client:"std",...a}).then(s=>(n=s.data.data.post,i||(i=s.data.data.source),n&&(r=!1),c=s.data.data.users,o=!0,{post:n,source:i,isEmpty:r,compatible:o,type:t,source_id:e,users:c})))}},async mix({type:t,id:e,client:s},a){let i="",r="";if(i="cj"===t?"achievement":"pet"===t?"item":t||"achievement",e){if(r=e,"pet"===t){const t=await n(e,{client:s});let r=t.data,o=r.ItemTabType+"_"+r.ItemTabIndex;return this.handleMix(i,o,s,a)}return this.handleMix(i,r,s,a)}}},r={list({type:t,id:e},s){return Object(a["$helper"])().get("/api/wiki/comments",{params:{...s,type:t,source_id:e}})},post({data:t},e){return Object(a["$helper"])().post("/api/wiki/comment",{...t},{params:e})},delete(t){return Object(a["$helper"])().put(`/api/my/wiki/comment/${t}/remove`)},myList(t){return Object(a["$helper"])().get("/api/my/wiki/comments",{params:t})}}},"38cf":function(t,e,s){var a=s("23e7"),n=s("1148");a({target:"String",proto:!0},{repeat:n})},"6f53":function(t,e,s){var a=s("83ab"),n=s("d039"),i=s("e330"),r=s("e163"),o=s("df75"),c=s("fc6a"),l=s("d1e7").f,u=i(l),p=i([].push),d=a&&n((function(){var t=Object.create(null);return t[2]=2,!u(t,2)})),m=function(t){return function(e){var s,n=c(e),i=o(n),l=d&&null===r(n),m=i.length,h=0,v=[];while(m>h)s=i[h++],a&&!(l?s in n:u(n,s))||p(v,t?[s,n[s]]:n[s]);return v}};t.exports={entries:m(!0),values:m(!1)}},b049:function(t,e,s){"use strict";s("ca50")},bb51:function(t,e,s){"use strict";s.r(e);s("b680");var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-home-view"},[e("WikiPanel",{attrs:{"border-none":!0}},[e("template",{slot:"head-title"},[e("i",{staticClass:"el-icon-location-information"}),e("span",[t._v("Lối tắt")])]),e("template",{slot:"head-actions"},[e("a",{staticClass:"other",attrs:{target:"_blank",href:t.feedback}},[t._v("Đề xuất »")])]),e("template",{slot:"body"},[e("ul",{staticClass:"u-qlinks"},[e("li",{staticClass:"u-qlink"},[e("a",{staticStyle:{"background-color":"#fe7979"},attrs:{target:"_blank",href:"/tool/9126/"}},[e("i",{staticClass:"el-icon-trophy"}),e("span",[t._v("Xem bách khoa toàn cầu")])])]),e("li",{staticClass:"u-qlink"},[e("router-link",{attrs:{to:{name:"waiting"}}},[e("i",{staticClass:"el-icon-edit-outline"}),e("span",[t._v("Thành tựu chờ hướng dẫn")]),e("span",{staticClass:"u-waiting",style:t.waitingColorStyle()},[t._v("（"+t._s(t.solveRate.toFixed(2))+"%）")])])],1),e("li",{staticClass:"u-qlink"},[e("a",{attrs:{target:"_blank",href:t.hiddenAchievementsPostLink}},[e("i",{staticClass:"el-icon-medal"}),e("span",[t._v("Ẩn tàng thành tựu")])])]),e("li",{staticClass:"u-qlink"},[e("a",{attrs:{target:"_blank",href:"/adventure"}},[e("i",{staticClass:"el-icon-ice-drink"}),e("span",[t._v("Kỳ ngộ đại toàn")])])]),e("li",{staticClass:"u-qlink"},[e("a",{attrs:{target:"_blank",href:"/pet"}},[e("i",{staticClass:"el-icon-lollipop"}),e("span",[t._v("Sủng vật đại toàn")])])])])])],2),e("WikiPanel",{attrs:{"border-none":!0}},[e("template",{slot:"head-title"},[e("i",{staticClass:"el-icon-notebook-1"}),e("span",[t._v("Thành tựu phổ biến")])]),e("template",{slot:"body"},[e("div",{staticClass:"m-achievement-slider"},[e("el-carousel",{attrs:{height:"66px",direction:"vertical","indicator-position":"none"}},t._l(t.hot_achievements,(function(s,a){return e("el-carousel-item",{key:a,staticClass:"m-carousel m-hot"},[e("el-row",{attrs:{gutter:20}},[t._l(s,(function(s,a){return[s?e("el-col",{key:a,attrs:{md:8}},[e("router-link",{staticClass:"u-item",class:"u-item-".concat(a),attrs:{to:{name:"view",params:{source_id:s.ID}}}},[e("div",{staticClass:"u-icon"},[e("img",{attrs:{src:t.icon_url(s.IconID)},on:{"~error":function(e){return function(){e.target.src=t.icon_url()}.apply(null,arguments)}}})]),e("div",{staticClass:"m-carousel-content"},[e("span",{staticClass:"u-title"},[e("i",{staticClass:"el-icon-medal"}),e("span",{domProps:{textContent:t._s(" ".concat(t.translate(s.Name)))}})]),e("span",{staticClass:"u-desc"},[e("i",{staticClass:"el-icon-mic"}),e("span",{domProps:{innerHTML:t._s(" ".concat(t.translate(s.Desc)))}})]),t.views[s.ID]?e("span",{staticClass:"u-rank"},[e("i",{staticClass:"el-icon-watermelon"}),e("span",{domProps:{textContent:t._s("Hôm qua - ".concat(t.views[s.ID]["yesterday"]))}}),e("i",{staticClass:"el-icon-grape"}),e("span",{domProps:{textContent:t._s("7 ngày - ".concat(t.views[s.ID]["7days"]))}}),e("i",{staticClass:"el-icon-pear"}),e("span",{domProps:{textContent:t._s("30 ngày - ".concat(t.views[s.ID]["30days"]))}})]):t._e()])])],1):t._e()]}))],2)],1)})),1)],1)])],2),e("WikiPanel",{attrs:{"border-none":!0}},[e("template",{slot:"head-title"},[e("i",{staticClass:"el-icon-notebook-2"}),e("span",[t._v("Thành tựu mới nhất")])]),e("template",{slot:"head-actions"},[e("router-link",{staticClass:"other",attrs:{to:{name:"newest"}}},[t._v("查看更多 »")])],1),e("template",{slot:"body"},[e("el-carousel",{attrs:{height:"66px",direction:"vertical",interval:3500,"indicator-position":"none"}},t._l(t.newest_achievements,(function(s,a){return e("el-carousel-item",{key:a,staticClass:"m-carousel"},[e("el-row",{attrs:{gutter:20}},t._l(s,(function(s,a){return e("el-col",{key:a,attrs:{md:8}},[e("router-link",{staticClass:"u-item u-item-new",class:"u-item-".concat(a),attrs:{to:{name:"view",params:{source_id:s.ID}}}},[e("div",{staticClass:"u-icon"},[e("img",{attrs:{src:t.icon_url(s.IconID)}})]),e("div",{staticClass:"m-carousel-content"},[e("span",{staticClass:"u-title"},[e("i",{staticClass:"el-icon-medal"}),e("span",{domProps:{textContent:t._s(" ".concat(t.translate(s.Name)))}})]),e("span",{staticClass:"u-desc"},[e("i",{staticClass:"el-icon-mic"}),e("span",{domProps:{innerHTML:t._s(" ".concat(t.translate(s.Desc)))}})])])])],1)})),1)],1)})),1)],1)],2),e("WikiPanel",{attrs:{"border-none":!0}},[e("template",{slot:"head-title"},[e("i",{staticClass:"el-icon-collection"}),e("span",[t._v("Hướng dẫn gần đây")])]),e("template",{slot:"body"},[e("el-row",{staticClass:"m-posts"},t._l(t.newest_posts,(function(s,a){return e("el-col",{key:a,staticClass:"m-post"},[e("div",{staticClass:"m-head"},[e("div",{staticClass:"m-achievement"},[e("div",{staticClass:"u-achievement"},[e("img",{staticClass:"u-icon",attrs:{src:t.icon_url(s.source_icon_id)},on:{"~error":function(e){e.target.src=t.icon_url("")}}}),e("router-link",{staticClass:"u-name",attrs:{to:{name:"view",params:{source_id:s.source_id}},target:"_blank"},domProps:{textContent:t._s(t.translate(s.title))}})],1),e("div",{staticClass:"u-level",domProps:{textContent:t._s("Độ khó tổng hợp："+t.star(s.level))}}),s.remark?e("div",{staticClass:"u-remark",domProps:{textContent:t._s("📑 "+t.translate(s.remark))}}):t._e()]),e("div",{staticClass:"m-user"},[e("div",{staticClass:"u-author"},[e("img",{staticClass:"u-icon",attrs:{src:t._f("showAvatar")(s.user_avatar),alt:s.user_nickname}}),e("a",{staticClass:"u-name",attrs:{href:s.user_id?t.author_url(s.user_id):null,target:"_blank"},domProps:{textContent:t._s(t.translate(s.user_nickname))}})]),e("div",{staticClass:"u-updated",domProps:{textContent:t._s(t.ts2str(s.updated))}})])]),e("div",{staticClass:"m-body"},[e("div",{staticClass:"u-excerpt",attrs:{to:{name:"view",params:{source_id:s.source_id}}},domProps:{innerHTML:t._s(t.ellipsis(t.translate(s.excerpt)))}})])])})),1)],1)],2)],1)},n=[],i=(s("498a"),s("fb6a"),s("14d9"),s("d3b7"),s("159b"),s("2ca0"),s("b0c0"),s("07ac"),s("65c2")),r=s("9616"),o=s("6d6e"),c=s("1b86"),l=s("85e4"),u=s("662c"),p=s("262e"),d=s("cefb"),m={name:"Home",data:function(){return{views:{},hot_achievements:null,newest_achievements:null,newest_posts:null,feedback:i["feedback"],solveRate:0}},computed:{isStd:function(){return"std"==this.$store.state.client},client:function(){return this.$store.state.client},hiddenAchievementsPostLink:function(){var t="std"==this.client?8104:43543;return Object(l["getLink"])("bbs",t)}},components:{WikiPanel:u["a"]},methods:{translate:o["translate"],icon_url:function(t){return Object(l["iconLink"])(t,this.client)},author_url:l["authorLink"],ts2str:l["ts2str"],star:d["a"],ellipsis:function(t){return t=t?t.trim():"",t.length>100?t.slice(0,100)+"...":t},chuck:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,s=[],a=0;a<t.length;a+=e)s.push(t.slice(a,a+e));return s},waitingColorStyle:function(){return this.solveRate>95?"color: #8dfa58":this.solveRate>60?"color: #e2d849":"color: #ff3838"}},filters:{showAvatar:function(t){return Object(l["showAvatar"])(t)}},created:function(){var t=this,e="origin"==this.client?"origin_cj":"cj";Object(r["b"])(e,"views",12).then((function(e){e=e.data;var s=[];e.forEach((function(e){if(e.name.startsWith("cj")){var a=e.name.split("-").pop();s.push(a),t.views[a]=e.value}})),Object(p["b"])({ids:s,limit:s.length}).then((function(e){e=e.data,t.hot_achievements=t.chuck(Object.values(e.data.achievements))}))})),Object(p["b"])({limit:12}).then((function(e){e=e.data,t.newest_achievements=t.chuck(Object.values(e.data.achievements))}),(function(){t.newest_achievements=!1})),Object(p["m"])().then((function(e){var s,a=null!==(s=e.data.data)&&void 0!==s?s:{},n=a.wiki_count,i=a.source_count;t.solveRate=n/i*100})),c["a"].list({type:"achievement"}).then((function(e){e=e.data,t.newest_posts=e.data.newest}),(function(){t.newest_posts=!1}))}},h=m,v=(s("b049"),s("2877")),_=Object(v["a"])(h,a,n,!1,null,null,null);e["default"]=_.exports},ca50:function(t,e,s){},cefb:function(t,e,s){"use strict";s.d(e,"a",(function(){return a}));s("38cf");var a=function(t){return"⭐️".repeat(t||1)}}}]);
//# sourceMappingURL=chunk-7c414a70.18132af1.js.map