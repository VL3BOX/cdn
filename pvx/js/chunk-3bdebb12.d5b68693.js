(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3bdebb12"],{"3c32":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"p-gonggao"},[e("div",{staticClass:"m-nav"},t._l(t.tabs,(function(n){return e("div",{key:n.key,staticClass:"m-nav-item",class:t.active===n.key&&"is-active",on:{click:function(e){return t.go(n)}}},[t._v(" "+t._s(t.$t(n.label))+" ")])})),0),e("div",{staticClass:"m-content"},[e("router-view")],1)])},r=[],s=n("5530"),c=(n("b0c0"),n("14d9"),n("d81d"),n("7db0"),n("d3b7"),n("159b"),n("caad"),n("2532"),n("99fc")),i={name:"Gonggao",data:function(){return{tabs:[{key:"daily",label:"速览"},{key:"calendar",label:"日历"},{key:"server",label:"开服状态"}],serverList:[],heatStateArr:[{value:"6",label:"良好",class:"is-open"},{value:"7",label:"繁忙",class:"is-busy"},{value:"8",label:"爆满",class:"is-full-load"},{value:"3",label:"维护",class:"is-close"}]}},computed:{active:function(){return this.$route.name},tab:function(){return this.tabs[this.active].key},uid:function(){return this.$store.state.uid}},methods:{go:function(t){this.$router.push({path:"/gonggao/".concat(t.key)})},loadAllServers:function(){var t=this;Object(c["a"])().then((function(e){var n,a=null===(n=e.data)||void 0===n?void 0:n.map((function(e){var n,a;return Object(s["a"])(Object(s["a"])({},e),{},{connect_state_name:(null===(n=t.heatStateArr.find((function(t){return t.value===e.heat})))||void 0===n?void 0:n.label)||"",connect_state_class:(null===(a=t.heatStateArr.find((function(t){return t.value===e.heat})))||void 0===a?void 0:a.class)||""})}));t.serverList=a,t.$store.commit("setServerList",t.serverList),t.uid&&Object(c["b"])().then((function(e){t.serverFav(e)}))}))},serverFav:function(t){if(t){t=t.split(",");var e=[];this.serverList.forEach((function(n){t.includes(n.main_server)&&e.push(n)})),this.$store.commit("setFavList",e)}}},created:function(){this.loadAllServers()}},u=i,o=(n("bf61"),n("2877")),l=Object(o["a"])(u,a,r,!1,null,null,null);e["default"]=l.exports},"8dbd":function(t,e,n){},"99fc":function(t,e,n){"use strict";n.d(e,"d",(function(){return u})),n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return l})),n.d(e,"e",(function(){return d})),n.d(e,"a",(function(){return v}));n("c7eb"),n("1da1"),n("c9d2");var a=n("bc3a"),r=n.n(a),s=n("65c2"),c=n("41cb"),i=r.a.create({baseURL:s["__spider2"]});function u(t){localStorage&&localStorage.setItem("flower_server",t)}function o(){return Object(c["$cms"])().get("/api/cms/user/my/profile").then((function(t){return t.data.data}))}function l(){return Object(c["$cms"])().get("api/cms/user/my/meta",{params:{key:"jx3_servers"}}).then((function(t){return t.data.data}))}function d(t){return Object(c["$cms"])().post("api/cms/user/my/meta",{val:t},{params:{key:"jx3_servers"}}).then((function(t){return t.data.data}))}function v(){return i.get("/api/spider/server/server_state")}},bf61:function(t,e,n){"use strict";n("8dbd")}}]);
//# sourceMappingURL=chunk-3bdebb12.d5b68693.js.map