(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-489f0561"],{"1aac":function(t,e,s){},"73a2":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-facedata"},[e("div",{staticClass:"m-face-parse",class:{on:t.done}},[e("h1",{staticClass:"m-face-parse-title"},[t._v("捏脸数据解析器")]),e("Upload",{on:{success:t.handleSuccess}}),e("Facedat",{directives:[{name:"show",rawName:"v-show",value:t.done,expression:"done"}],staticClass:"m-face-parse-preview",attrs:{data:t.json,lock:!1}})],1)])},n=[],i=s("e0bb"),o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"c-facedat-upload"},[t.support?e("div",{staticClass:"u-upload"},[t.done?[e("div",{staticClass:"u-result"},[e("el-button",{staticClass:"u-reset",attrs:{icon:"el-icon-refresh-left"},on:{click:t.resetData}},[t._v("清空重置")]),e("el-alert",{attrs:{title:"当前文件为："+t.filename,type:"success","show-icon":""}})],1)]:[e("input",{staticClass:"u-input",attrs:{type:"file",id:"face_file",accept:".dat,.jx3dat,.ini"},on:{change:t.uploadData}}),e("el-button",{staticClass:"u-btn",attrs:{type:"primary",icon:"el-icon-upload2"},on:{click:t.selectData}},[t._v("上传脸型数据")]),t._m(0)]],2):e("el-alert",{staticClass:"u-notsupport",attrs:{title:"浏览器不支持",type:"warning",description:"你的浏览器太老旧不支持本地读取,请更换chrome或其它现代浏览器","show-icon":""}})],1)},c=[function(){var t=this,e=t._self._c;return e("a",{staticClass:"u-help",attrs:{href:"/tool/746",target:"_blank"}},[e("i",{staticClass:"el-icon-collection"}),t._v(" 游戏脸型导入导出指南 ")])}],l=(s("b0c0"),s("e9c4"),s("2b0e"));new l["default"]({});var r=s("bda6"),u={name:"Upload",props:[],components:{},data:function(){return{support:!0,file:"",json:"",object:"",done:!1}},computed:{filename:function(){return this.file&&this.file.name}},methods:{selectData:function(t){var e=document.getElementById("face_file");e.dispatchEvent(new MouseEvent("click"))},uploadData:function(t){var e=t.target.files[0];this.file=e,this.parseData(e)},parseData:function(t){if(t){var e=this,s=new FileReader;s.onload=function(t){console.log("读取成功...开始执行分析...");try{e.object=Object(r["b"])(t.target.result)}catch(s){return console.log(s),e.$notify.error({title:"错误",message:"无法读取数据"}),void e.$emit("fail",{file:e.file})}if(e.object)try{e.json=JSON.stringify(e.object),e.$notify({title:"成功",message:"数据读取成功",type:"success"}),e.done=!0,e.$emit("success",{file:e.file,json:e.json,object:e.object})}catch(t){e.$notify.error({title:"错误",message:"无法读取数据"}),e.$emit("fail",{file:e.file})}},s.onerror=function(t){e.$notify.error({title:"错误",message:"文件读取异常"})},s.readAsArrayBuffer(t)}},resetData:function(){this.done=!1,this.file="",this.json="",this.object="",this.$emit("success",{file:"",json:"",object:""})}},filters:{},created:function(){},mounted:function(){this.support=!!window.FileReader}},f=u,d=(s("91d4"),s("2877")),p=Object(d["a"])(f,o,c,!1,null,null,null),h=p.exports,m=(s("65c2"),{name:"FacedataParse",props:[],data:function(){return{data:"",done:!1}},computed:{json:function(){return this.data&&this.data.json}},methods:{handleSuccess:function(t){this.data=t,null!==t&&void 0!==t&&t.json?this.done=!0:this.done=!1}},mounted:function(){},components:{Facedat:i["a"],Upload:h}}),v=m,b=(s("e920"),Object(d["a"])(v,a,n,!1,null,null,null));e["default"]=b.exports},"91d4":function(t,e,s){"use strict";s("1aac")},e920:function(t,e,s){"use strict";s("ef6e")},ef6e:function(t,e,s){}}]);
//# sourceMappingURL=chunk-489f0561.70b24587.js.map